<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="../Public/lib/html5shiv.js"></script>
    <script type="text/javascript" src="../Public/lib/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="../Public/static/h-ui/css/H-ui.min.css"/>
    <link rel="stylesheet" type="text/css" href="../Public/static/h-ui.admin/css/H-ui.admin.css"/>
    <link rel="stylesheet" type="text/css" href="../Public/lib/Hui-iconfont/1.0.8/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="../Public/static/h-ui.admin/skin/green/skin.css" id="skin" />
    <link rel="stylesheet" type="text/css" href="../Public/mySrc/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="../Public/lib/jedate/skin/jedate.css"/>

    <!--[if IE 6]>
    <script type="text/javascript" src="../Public/lib/DD_belatedPNG_0.0.8a-min.js"></script>
    <script>DD_belatedPNG.fix('*');</script>
    <![endif]-->
    <title>角色管理</title>
</head>
<body>
<div class="page-container">
    <div class="tabs-list cl pd-5 bg-1 bk-gray">
        <span class="Hui-iconfont c-red f-18 mr-5">&#xe6df;</span>角色列表
        <span class="r">
            <a class="btn btn-success radius" href="javascript:;" onClick="article_view('新增角色','role-add.html','100%','100%')">
                <i class="Hui-iconfont">&#xe647;</i> 新增角色
            </a>
        </span>
    </div>
    <div class="mt-20">
        <form method="" action="" class="search_form">
            创建时间：
            <input type="text" placeholder="创建时间" class="input-text ac_input mr-10" name="search_text" value=""
                   id="tim" autocomplete="off" style="width:120px;cursor: pointer;" readonly>
            <button type="submit" class="btn btn-success" id="search_button">
                <i class="Hui-iconfont">&#xe665;</i>
                搜索
            </button>
        </form>
        <table class="table table-border table-bordered table-hover table-bg table-sort">
            <thead>
            <tr class="text-c">
                <th><input type="checkbox" value="" name=""></th>
                <th>ID</th>
                <th>角色名</th>
                <th>创建时间</th>
                <th>用户列表</th>
                <th>描述</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr class="text-c">
                <td><input type="checkbox" value="1" name="subChk"></td>
                <td>2</td>
                <td>总编</td>
                <td>2017-09-22</td>
                <td><a href="#">张三</a></td>
                <td>具有添加、审核、发布、删除内容的权限</td>
                <td class="f-14">
                    <a title="分配权限" href="javascript:;"
                       onclick="article_view('分配权限','allocation-authority.html','100%','100%')">分配权限</a>
                    <a title="编辑" href="javascript:;" onclick="layer_show('角色编辑','role-add.html','800','')">编辑</a>
                    <a title="删除" href="javascript:;" class="ml-5 del">删除</a>
                </td>
            </tr>
            <tr class="text-c">
                <td><input type="checkbox" value="2" name="subChk"></td>
                <td>3</td>
                <td>学校管理员</td>
                <td>2017-09-22</td>
                <td><a href="#">李四</a>，<a href="#">王五</a></td>
                <td>只对所在栏目具有添加、审核、发布、删除内容的权限</td>
                <td class="f-14">
                    <a title="分配权限" href="javascript:;"
                       onclick="article_view('分配权限','allocation-authority.html','100%','100%')">分配权限</a>
                    <a title="编辑" href="javascript:;" onclick="layer_show('角色编辑','role-add.html','800','')">编辑</a>
                    <a title="删除" href="javascript:;" class="ml-5 del">删除</a>
                </td>
            </tr>
            <tr class="text-c">
                <td><input type="checkbox" value="3" name="subChk"></td>
                <td>4</td>
                <td>学校管理员</td>
                <td>2017-09-22</td>
                <td><a href="#">赵六</a>，<a href="#">钱七</a></td>
                <td>只对所在栏目具有添加、删除草稿等权利。</td>
                <td class="f-14">
                    <a title="分配权限" href="javascript:;"
                       onclick="article_view('分配权限','allocation-authority.html','100%','100%')">分配权限</a>
                    <a title="编辑" href="javascript:;" onclick="layer_show('角色编辑','role-add.html','800','')">编辑</a>
                    <a title="删除" href="javascript:;" class="ml-5 del">删除</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<!--_footer 作为公共模版分离出去-->
<script type="text/javascript" src="../Public/lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="../Public/lib/layer/2.4/layer.js"></script>
<script type="text/javascript" src="../Public/static/h-ui/js/H-ui.min.js"></script>
<script type="text/javascript" src="../Public/static/h-ui.admin/js/H-ui.admin.js"></script> <!--/_footer 作为公共模版分离出去-->
<script type="text/javascript" src="../Public/lib/jedate/jquery.jedate.min.js"></script>
<script type="text/javascript" src="../Public/lib/datatables/1.10.0/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="../Public/mySrc/js/common.js"></script>
<script type="text/javascript">
    tableSort('.table-sort',[0,6]);
    //初始化日期搜索jedate
    $('#tim').jeDate({
        format: 'YYYY-MM-DD',
        minDate: '2014-06-16', //设定最小日期为当前日期
        maxDate: $.nowDate({DD:"00"}) //最大日期
    });
    /*批量删除 */
    function datadel() {
        var checkedNum = $("input[name='subChk']:checked").length;
        if (checkedNum == 0) {
            layer.alert('请先选择再操作')
            return;
        } else {
            layer.confirm('请确认是否删除所选项？', {
                btn: ['确认', '取消'] //按钮
            }, function (index) {
                layer.close(index);
                var checkedList = [];
                $("input[name='subChk']:checked").each(function () {
                    checkedList.push($(this).val());
                    $(this).parents('tr').remove();
                });
                $.ajax({
                    type: "POST",
                    url: "",
                    data: {'items': checkedList},
                    success: function (result) {
                        layer.msg('删除成功！', {icon: 1});
                        //重新渲染表格
                    }
                });
            }, function () {

            });
        }
    }

    /*管理员-角色-删除*/
    function admin_role_del(obj, id) {
        layer.confirm('角色删除须谨慎，确认要删除吗？', function (index) {
            $.ajax({
                type: 'POST',
                url: '',
                dataType: 'json',
                success: function (data) {
                    $(obj).parents("tr").remove();
                    layer.msg('已删除!', {icon: 1, time: 1000});
                },
                error: function (data) {
                    console.log(data.msg);
                },
            });
        });
    }
</script>
</body>
</html>