<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="../Public/lib/html5shiv.js"></script>
    <script type="text/javascript" src="../Public/lib/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="../Public/static/h-ui/css/H-ui.min.css"/>
    <link rel="stylesheet" type="text/css" href="../Public/static/h-ui.admin/css/H-ui.admin.css"/>
    <link rel="stylesheet" type="text/css" href="../Public/lib/Hui-iconfont/1.0.8/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="../Public/static/h-ui.admin/skin/green/skin.css" id="skin"/>
    <link rel="stylesheet" type="text/css" href="../Public/mySrc/css/style.css"/>
    <!--[if IE 6]>
    <script type="text/javascript" src="../Public/lib/DD_belatedPNG_0.0.8a-min.js"></script>
    <script>DD_belatedPNG.fix('*');</script>
    <![endif]-->
    <title>添加管理员 - 管理员管理 </title>
    <meta name="keywords" content="紫云县远程教育后台管理系统、视频窗口、远程监控">
    <meta name="description" content="紫云县远程教育后台管理系统、视频窗口、远程监控">
    <style>
        .pro {
            text-align: center;
            font-weight: normal;
            font-size: 20px;
            line-height: 28px;
            width: 28px;
            height: 28px;
            float: left;
            margin-right: 10px;
            position: relative;
            top: -4px;
            display: inline-block;
            border: 1px solid #72b2ed;
            border-radius: 100%;
        }
    </style>
</head>
<body>
<article class="page-container">
    <form class="form form-horizontal" id="form-admin-add">
        <div class="row clearfix">
            <div class="col-sm-5 col-xs-offset-1">
                <!--********************快速创建*******************-->
                <div class="panel panel-default">
                    <div class="panel-header">快速创建（选择学校，选择人物，快速创建） <i class="pro">1</i></div>
                    <div class="panel-body clearfix">
                        <a class="btn btn-success size-M f-l" style="width: 22%;height: 100%;">快速创建</a>
                        <div class="formControls skin-minimal f-l" style="width: 78%">
                            <span class="select-box">
                                <select class="select" name="adminRole" size="1">
                                    <option value="紫云一小">紫云一小</option>
                                    <option value="紫云二小">紫云二小</option>
                                    <option value="紫云三小">紫云三小</option>
                                    <option value="紫云四小">紫云四小</option>
                                </select>
                                <div class="persons hide" style="margin: 10px 5px;">
                                    <div class="check">
                                        <span class="checkboxBg" id="13079303838"></span>
                                        <label for="13079303838">张涵</label>
                                    </div>
                                    <div class="check">
                                        <span class="checkboxBg" id="13079303839"></span>
                                        <label for="13079303839">韦名</label>
                                    </div>
                                    <div class="check">
                                        <span class="checkboxBg" id="13079303840"></span>
                                        <label for="13079303840">程冲</label>
                                    </div>
                                    <div class="check">
                                        <span class="checkboxBg" id="13079303841"></span>
                                        <label for="13079303841">林志</label>
                                    </div>
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
                <!--********************登录信息*******************-->
                <div class="panel panel-default" style="border-top: 0">
                    <div class="panel-header">登录信息 <i class="pro">2</i></div>
                    <div class="panel-body clearfix">
                        <div class="clearfix">
                            <a class="btn btn-success size-M f-l" style="width: 22%;height: 100%;"><span
                                    class="c-red mr-5">*</span>登录账号</a>
                            <input style="width: 78%" type="text" class="input-text f-l" value="" placeholder="不允许中文"
                                   id="adminName" name="adminName">
                        </div>
                        <!--初始密码-->
                        <div class="mt-20 clearfix">
                            <a class="btn btn-success size-M f-l" style="width: 22%;height: 100%;"><span
                                    class="c-red mr-5">*</span>初始密码</a>
                            <input style="width: 78%" type="password" class="input-text f-l" autocomplete="off" value=""
                                   placeholder="密码"
                                   id="password"
                                   name="password">
                        </div>
                        <!--确认密码-->
                        <div class="mt-20 clearfix">
                            <a class="btn btn-success size-M f-l" style="width: 22%;height: 100%;"><span
                                    class="c-red mr-5">*</span>确认密码</a>
                            <input style="width: 78%" type="password" class="input-text f-l" autocomplete="off"
                                   placeholder="确认新密码" id="password2"
                                   name="password2">
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-5">
                <!--********************用户信息*******************-->
                <div class="panel panel-default">
                    <div class="panel-header">用户信息 <i class="pro">3</i></div>
                    <div class="panel-body clearfix">
                        <!--真实姓名-->
                        <div class="clearfix">
                            <a class="btn btn-success size-M f-l" style="width: 22%;height: 100%;"><span
                                    class="c-red mr-5">*</span>真实姓名</a>
                            <input style="width: 78%" type="text" class="input-text f-l" value="" placeholder=""
                                   id="personLiable"
                                   name="personLiable">
                        </div>
                        <!--真实姓名-->
                        <div class="mt-20 clearfix">
                            <a class="btn btn-success size-M f-l" style="width: 22%;height: 100%;"><span
                                    class="c-red mr-5">*</span>选择性别</a>
                            <div style="width: 78%" class="formControls f-l skin-minimal">
                                <div class="radio-box ml-15">
                                    <input name="sex" type="radio" id="sex-1" checked>
                                    <label for="sex-1">男</label>
                                </div>
                                <div class="radio-box ml-20">
                                    <input type="radio" id="sex-2" name="sex">
                                    <label for="sex-2">女</label>
                                </div>
                            </div>
                        </div>
                        <!--手机号码-->
                        <div class="mt-20 clearfix">
                            <a class="btn btn-success size-M f-l" style="width: 22%;height: 100%;"><span
                                    class="c-red mr-5">*</span>手机号码</a>
                            <input style="width: 78%" type="tel" class="input-text f-l" value="" placeholder=""
                                   id="phone" name="phone">
                        </div>
                        <!--电子邮箱-->
                        <div class="mt-20 clearfix">
                            <a class="btn btn-success size-M f-l" style="width: 22%;height: 100%;"><span
                                    class="c-red mr-5">*</span>电子邮箱</a>
                            <input style="width: 78%" type="text" class="input-text f-l" placeholder="@" name="email"
                                   id="email">
                        </div>
                        <!--备注信息-->
                        <div class="mt-20 clearfix">
                            <a class="btn btn-success size-M f-l" style="width: 22%;height: inherit;">备注信息</a>
                            <input style="width: 78%" type="text" class="input-text f-l" placeholder="简单备注..."
                                   name="mark" id="mark">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--********************确认新增*******************-->
        <div class="row cl">
            <div class="col-xs-4 col-xs-offset-4">
                <input style="width: 100%" class="btn btn-primary radius" type="submit"
                       value="&nbsp;&nbsp;确认创建&nbsp;&nbsp;">
            </div>
        </div>
    </form>
</article>

<!--_footer 作为公共模版分离出去-->
<script type="text/javascript" src="../Public/lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="../Public/lib/layer/2.4/layer.js"></script>
<script type="text/javascript" src="../Public/static/h-ui/js/H-ui.min.js"></script>
<script type="text/javascript" src="../Public/static/h-ui.admin/js/H-ui.admin.js"></script>
<script type="text/javascript" src="../Public/lib/jquery.validation/1.14.0/jquery.validate.js"></script>
<script type="text/javascript" src="../Public/lib/jquery.validation/1.14.0/validate-methods.js"></script>
<script type="text/javascript" src="../Public/lib/jquery.validation/1.14.0/messages_zh.js"></script>
<script type="text/javascript">
    $(function () {
        // 初始化checkbox效果
        $('.skin-minimal input').iCheck({
            checkboxClass: 'icheckbox-blue',
            radioClass: 'iradio-blue',
            increaseArea: '20%'
        });
        // select选择事件
        $(".select").change(function () {
            switch ($(this).val()) {
                case '紫云二小':
                    $('.persons').removeClass('hide')
                    break;
                case '紫云一小':
                    $('.persons').removeClass('hide')
                    break;
                default:
            }
        });
        // span点击事件
        $(".checkboxBg").click(function () {
            if ($(this).hasClass('checkedBg')) {
                $(this).removeClass('checkedBg');
                $('#phone,#personLiable,#adminName,#password,#password2').val('');
                $('#password,#password2').attr('type', 'password');
            } else {
                $(this).addClass('checkedBg').parent('.check').siblings().find('span').removeClass('checkedBg');
                $('#phone').val($(this).attr('id'));
                var personLiable = $(this).siblings('label').text(),
                    phone = $(this).attr('id');
                $('#personLiable').val(personLiable);
                $('#adminName').val(phone);
                $('#password,#password2').attr('type', 'text').val('123456');
            }
        });
        // label点击事件
        $(".checkboxBg").next('label').click(function () {
            if ($(this).prev('span').hasClass('checkedBg')) {
                $(this).prev('span').removeClass('checkedBg');
                $('#phone,#personLiable,#adminName,#password,#password2').val('');
                $('#password,#password2').attr('type', 'password');
            } else {
                $(this).prev('span').addClass('checkedBg').parent('.check').siblings().find('span').removeClass('checkedBg');
                var personLiable = $(this).text(),
                    phone = $(this).siblings('span').attr('id');
                $('#phone').val(phone);
                $('#personLiable').val(personLiable);
                $('#adminName').val(phone);
                $('#password,#password2').attr('type', 'text').val('123456');
            }
        })
        // 表单验证
        $("#form-admin-add").validate({
            rules: {
                personLiable: {
                    required: true,
                },
                adminName: {
                    required: true,
                },
                password: {
                    required: true,
                },
                password2: {
                    required: true,
                    equalTo: "#password"
                },
                sex: {
                    required: true,
                },
                phone: {
                    required: true,
                    isPhone: true,
                },
                adminRole: {
                    required: true,
                },
            },
            onkeyup: false,
            focusCleanup: true,
            success: "valid",
            submitHandler: function (form) {
                $(form).ajaxSubmit({
                    type: 'post',
                    url: "xxxxxxx",
                    success: function (data) {
                        layer.msg('添加成功!', {icon: 1, time: 1000});
                    },
                    error: function (XmlHttpRequest, textStatus, errorThrown) {
                        layer.msg('error!', {icon: 1, time: 1000});
                    }
                });
                var index = parent.layer.getFrameIndex(window.name);
                parent.$('.btn-refresh').click();
                parent.layer.close(index);
            }
        });
    });
</script>

</body>
</html>