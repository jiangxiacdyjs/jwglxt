/** layuiAdmin.pro-v1.0.0-beta9 LPPL License By http://www.layui.com/admin/ */
 ;layui.extend({setter:"config",admin:"lib/admin",view:"lib/view",treeselect:"../lib/extend/layui-treeselect",formSelects:"../lib/extend/formSelects-v3"}).define(["setter","admin"],function(e){var a=layui.setter,t=layui.element,n=layui.admin,i=n.tabsPage,l=layui.view,r=function(){var e=layui.router(),o=e.path,s=n.correctRouter(e.path.join("/"));o.length||(o=[""]),""===o[o.length-1]&&(o[o.length-1]=a.entry);var u="#LAY_app_body",d="layadmin-layout-tabs",c=layui.$,y=c(window),h=function(e){r.haveInit&&c(".layui-layer").each(function(){var e=c(this),a=e.attr("times");e.hasClass("layui-layim")||layer.close(a)}),r.haveInit=!0,c(u).scrollTop(0),delete i.type};return"tab"===i.type&&("/"!==s||"/"===s&&n.tabsBody().html())?(n.tabsBodyChange(i.index),h(i.type)):(l().render(o.join("/")).then(function(l){var r,o=c("#LAY_app_tabsheader>li");o.each(function(e){var a=c(this),t=a.attr("lay-id");t===s&&(r=!0,i.index=e)}),a.pageTabs&&"/"!==s&&(r||(c(u).append('<div class="layadmin-tabsbody-item layui-show"></div>'),i.index=o.length,t.tabAdd(d,{title:"<span>"+(l.title||"新标签页")+"</span>",id:s,attr:e.href}))),this.container=n.tabsBody(i.index),a.pageTabs||this.container.scrollTop(0),t.tabChange(d,s),n.tabsBodyChange(i.index)}).done(function(){layui.use("common",layui.cache.callback.common),y.on("resize",layui.data.resize),n.tabsBody(i.index).on("scroll",function(){var e=c(this),a=c(".layui-laydate"),t=c(".layui-layer")[0];a[0]&&(a.each(function(){var e=c(this);e.hasClass("layui-laydate-static")||e.remove()}),e.find("input").blur()),t&&layer.closeAll("tips")});var e=c("#LAY-system-side-menu").find(".layui-this"),a=e.children("a").eq(0),l=a.text().replace(/\s/g,"");c("#show-router-path").children("a:not(:first),span").remove();if(a.parent("li").length){var r=c("<cite/>").text(l),o=c("<a/>"),s=o.append(r);c("#show-router-path").append(s)}else{for(var u=[l],d=a.parents("dl.layui-nav-child"),h=0;h<d.length;h++)u.push(d.eq(h).siblings("a").eq(0).text().replace(/\s/g,""));for(var p=u.length-1;p>-1;p--){if(0==p)var r=c("<cite/>").text(u[p]),o=c("<a/>"),f=o.append(r);else var f=c("<a/>").text(u[p]);c("#show-router-path").append(f)}}t.render("breadcrumb"),0===e.length&&c("#show-router-path").children("a:not(:first),span").remove()}),void h())},o=function(e){var t,i=layui.router(),o=l(a.container),s=n.correctRouter(i.path.join("/"));if(layui.each(a.indPage,function(e,a){if(s===a)return t=!0}),layui.config({base:a.base+"controller/"}),t||"/user/login"===s)o.render(i.path.join("/")).done(function(){n.pageType="alone"});else{if(a.interceptor){var u=layui.data(a.tableName);if(!u[a.request.tokenName])return location.hash="/user/login/redirect="+encodeURIComponent(s);if(u[a.request.tokenName]&&"admin"!==u[a.request.tokenName])return location.hash="/template/tips/test"}"console"===n.pageType?r():o.render("layout").done(function(){r(),layui.element.render(),n.screen()<2&&n.sideFlexible(),n.pageType="console"})}};layui.link(a.base+"style/admin.css?v="+(n.v+"-1"),function(){o()},"layuiAdmin"),layui.link(a.base+"font-awesome-4.7.0/css/font-awesome.min.css?v="+(n.v+"-1")),layui.link(a.base+"style/base.css?v="+(n.v+"-1")),window.onhashchange=function(){o(),layui.event.call(this,a.MOD_NAME,"hash({*})",layui.router())},layui.each(a.extend,function(e,t){var n={};n[t]="{/}"+a.base+"lib/extend/"+t,layui.extend(n)}),e("index",{render:r})});